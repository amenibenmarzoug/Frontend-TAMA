<div id="register" class="inner-scroll" fxLayout="row" fxLayoutAlign="start">

    <div id="register-intro" fxHide fxShow.gt-xs>

        <div class="logo" [@animate]="{value:'*',params:{scale:'0.2'}}">
            <img src="assets/images/logos/fuse.svg">
        </div>

        <div class="title" [@animate]="{value:'*',params:{delay:'50ms',y:'25px'}}">
        </div>
        
        <div class="description" [@animate]="{value:'*',params:{delay:'100ms',y:'25px'}}">
            Si vous êtes une entreprise et vous êtes intéressée par nos programmes, veuillez remplir le formulaire !
        <a class="link" [routerLink]="'/pages/auth/register_entreprise'"> Formulaire</a>
        </div> 

      <!--   <div class="description" [@animate]="{value:'*',params:{delay:'100ms',y:'25px'}}">
            Si vous êtes intéressé par nos programmes et vous voulez vous inscrire individuellement, veuillez remplir le
            formulaire !
        </div> -->

    </div>

    <div id="register-form-wrapper" fusePerfectScrollbar [@animate]="{value:'*',params:{delay:'300ms',x:'100%'}}"
        fxFlex="100">

        <div id="register-form">

            <div class="logo" fxHide.gt-xs>
                <img src="assets/images/logos/fuse.svg">
            </div>

            <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
                <form name="registerForm" [formGroup]="registerForm" novalidate
                    class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start"
                    fxFlex="1 0 auto" (ngSubmit)="formValidation() && onSubmit()">

                    <div class="title h2 mb-24" fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">
                        Formulaire pour participant</div>
                    <form name="rForm" [formGroup]="rForm" novalidate class=" p-24 mr-24" fxLayout="column"
                        fxLayoutAlign="start" fxFlex="1 0 auto">
                        <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">


                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Prénom</mat-label>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                <input name="firstNameP" formControlName="firstNameP"  (blur)="onValueChangedP()" matInput required>
                                <mat-error *ngIf="formErrors.firstNameP">{{formErrors.firstNameP}}</mat-error>

                            </mat-form-field>



                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Nom</mat-label>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                <input name="lastNameP" formControlName="lastNameP" matInput  (blur)="onValueChangedP()" required>
                                <mat-error *ngIf="formErrors.firstNameP">{{formErrors.firstNameP}}</mat-error>

                            </mat-form-field>
                        </div>

                        <div fxLayout="row " fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex class="pr-4">
                                <mat-label>Sexe</mat-label>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                <mat-select formControlName="gender"  (blur)="onValueChangedP()" required>
                                    <mat-option [value]="'Masculin'">
                                        Masculin
                                    </mat-option>
                                    <mat-option [value]="'Féminin'">
                                        Féminin
                                    </mat-option>

                                </mat-select>

                                <mat-error *ngIf="formErrors.gender">{{formErrors.gender}}</mat-error>



                            </mat-form-field>
                        </div>


                        <div fxLayout="row " fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Numéro</mat-label>
                                <mat-icon matSuffix class="secondary-text">phone</mat-icon>
                                <input formControlName="phoneNumber" matInput  (blur)="onValueChangedP()" required>
                                <mat-error *ngIf="formErrors.phoneNumber">{{formErrors.phoneNumber}}</mat-error>

                            </mat-form-field>
                        </div>

                        <div fxLayout="row " fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Email</mat-label>
                                <mat-icon matSuffix class="secondary-text">email</mat-icon>
                                <input name="email" formControlName="email" matInput type="email"  (blur)="onValueChangedP()" required>
                                <mat-error *ngIf="formErrors.email">{{formErrors.email}}</mat-error>

                            </mat-form-field>
                        </div>
                        <div fxLayout="row " fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Date de Naissance</mat-label>
                                <input matInput [matDatepicker]="birthdayDatePicker" name="birthday"
                                    formControlName="birthday"  (blur)="onValueChangedP()" required>
                                <mat-datepicker-toggle matSuffix [for]="birthdayDatePicker"></mat-datepicker-toggle>
                                <mat-datepicker #birthdayDatePicker></mat-datepicker>
                                <mat-error *ngIf="formErrors.birthday">{{formErrors.birthday}}</mat-error>

                            </mat-form-field>
                        </div>


                        <div fxLayout="row" fxLayoutAlign="start center">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Adresse</mat-label>
                                <mat-icon matSuffix class="secondary-text">home</mat-icon>
                                <input name="street" formControlName="street" matInput (blur)="onValueChangedP()"  required>
                                <mat-error *ngIf="formErrors.street">{{formErrors.street}}</mat-error>

                            </mat-form-field>
                        </div>

                        <div fxLayout="row" fxLayoutAlign="start start">

                            <mat-form-field appearance="outline" fxFlex="100">
                                <mat-label>Ville</mat-label>
                                <mat-select formControlName="city"  (blur)="onValueChangedP()" required>
                                    <mat-option *ngFor="let city of cities.sort()" [value]="city">
                                        {{city}}
                                    </mat-option>

                                </mat-select>
                                <mat-icon matSuffix class="secondary-text">outlined_flag</mat-icon>
                                <mat-error *ngIf="formErrors.city">{{formErrors.city}}</mat-error>

                            </mat-form-field>


                            <mat-form-field appearance="outline" fxFlex="33">
                                <mat-label>Code Postal </mat-label>
                                <input matInput #postalCode formControlName="postalCode"  (blur)="onValueChangedP()"  maxlength="5" required>
                                <mat-icon matSuffix class="secondary-text ">markunread_mailbox</mat-icon>

                                <mat-error *ngIf="formErrors.postalCode">{{formErrors.postalCode}}</mat-error>

                            </mat-form-field>

                        </div>


                        <div fxLayout="row" fxLayoutAlign="start start" >
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>NombreAnnéesExpérienceProfessionelle</mat-label>

                                <input type="number" formControlName="experience" (blur)="onValueChangedP()"  matInput required>
                            </mat-form-field>
                        </div>

<!--                         <div fxLayout="row" fxLayoutAlign="start center" class="pr-4" *ngIf="particpantType=='Employé'">
                            <mat-form-field appearance="outline" fxFlex class="pr-4">
                                <mat-label>Entreprise</mat-label>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                <mat-select (selectionChange)="getEntrepriseForm($event.value)">

                                    <mat-option *ngFor="let entreprise of entreprises" [value]="entreprise">
                                        {{ entreprise.enterpriseName}}
                                    </mat-option>
                                </mat-select>

                                <mat-error *ngIf="formErrors.gender">{{formErrors.gender}}</mat-error>



                            </mat-form-field>
                        </div>
 -->
                        <div fxLayout="row" fxLayoutAlign="start center" class="pr-4">                            <mat-form-field appearance="outline" fxFlex class="pr-4">
                                <mat-label>Classe</mat-label>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                <mat-select formControlName="classe"  (blur)="onValueChangedP()" (selectionChange)="sendClasse($event.value)" required>

                                    <mat-option *ngFor="let classe of classes" [value]="classe">
                                        {{ classe.programInstName}} {{ classe.location}}
                                    </mat-option>
                                </mat-select>

                                <mat-error *ngIf="formErrors.classe">{{formErrors.classe}}</mat-error>

                            </mat-form-field>
                        </div>


                        <div fxLayout="row" fxLayoutAlign="start center" class="pr-4">
                            <mat-form-field appearance="outline" fxFlex class="pr-4">
                                <mat-label>Niveau Management </mat-label>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                <mat-select formControlName="level"  (blur)="onValueChangedP()" required>
                                    <mat-option [value]="'0'">
                                        0
                                    </mat-option>
                                    <mat-option [value]="'0.5'">
                                        0.5
                                    </mat-option>
                                    <mat-option [value]="'1'">
                                        1
                                    </mat-option>
                                    <mat-option [value]="'2'">
                                        2
                                    </mat-option>
                                    <mat-option [value]="'3'">
                                        3
                                    </mat-option>

                                </mat-select>




                                <mat-error *ngIf="formErrors.level">{{formErrors.level}}</mat-error>


                            </mat-form-field>
                        </div>


                        <div fxLayout="row" fxLayoutAlign="start center" class="pr-4">
                            <mat-form-field appearance="outline" fxFlex class="pr-4">
                                <mat-label>Niveau Éducation </mat-label>
                                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                                <mat-select formControlName="educationLevel"  (blur)="onValueChangedP()" required>
                                    <mat-option [value]="'Bac'">
                                        Bac
                                    </mat-option>
                                    <mat-option [value]="'Formation Professionnelle'">
                                        Formation Professionnelle
                                    </mat-option>
                                    <mat-option [value]="'Bac+3'">
                                        Bac+3
                                    </mat-option>
                                    <mat-option [value]="'Bac+5'">
                                        Bac+5
                                    </mat-option>

                                </mat-select>




                                <mat-error *ngIf="formErrors.educationLevel">{{formErrors.educationLevel}}</mat-error>


                            </mat-form-field>
                        </div>

                        <div fxLayout="row" fxLayoutAlign="start start" style="display:none !important;">
                            <mat-form-field appearance="outline" fxFlex>
                                <mat-label>Poste Actuel </mat-label>
                                <mat-icon matSuffix class="secondary-text">work</mat-icon>
                                <input name="currentPosition" formControlName="currentPosition" (blur)="onValueChangedP()" matInput required>
                                <mat-error *ngIf="formErrors.currentPosition">{{formErrors.currentPosition}}</mat-error>

                            </mat-form-field>
                        </div>


                    </form>
             <!--        <div class="terms" fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                        <mat-checkbox name="terms" aria-label="Accept">
                            <span>Accepter</span>
                        </mat-checkbox>
                        <a href="#">les conditions</a>
                    </div> -->

                    <button mat-raised-button color="accent" class="submit-button" aria-label="CREATE AN ACCOUNT"
                    [disabled]="!formValidation()"   >
                        VALIDER
                    </button>
                    <div class="alert alert-success" fxLayoutAlign="center center" *ngIf="isSuccessful">
                        <h4>Vos données sont bien enregistrées.</h4>
                    </div>
                    <div class="register mb-24" fxLayout="row" fxLayoutAlign="center center" fxFlex="1 0 auto">
                        <span class="text">Vous avez déjà un compte? </span>
                        <br>
                        <a class="link" [routerLink]="'/pages/auth/login-2'"> Login</a>
                    </div>
                </form>
            </div>
        </div>

    </div>
</div>